args@{ config, pkgs, ... }:
{
  buildDateTime = 1762946435;
  flavor = "grapheneos";
  device = "akita";
  grapheneos.channel = "alpha";
  apps.fdroid.enable = true;
  config.apps.fdroid.additionalRepos = {
    "My First F-Droid Repo Demo" = {
      enable = true;
      url = "https://fdroid-repo-8b3497.gitlab.io/fdroid/repo";
      pubkey = "308204e9308202d1a003020102020813c2c7b3c279573a300d06092a864886f70d01010b050030223110300e060355040b1307462d44726f6964310e300c060355040313056164616d323020170d3235303931373035333630345a180f32303533303230323035333630345a30223110300e060355040b1307462d44726f6964310e300c060355040313056164616d3230820222300d06092a864886f70d01010105000382020f003082020a0282020100a073ad623de13feb7f8f487b85c3dcaca12681f4365bd5109eee6a6804667dc2a82b4534992387fecdb4c1a7813aa49c5df09544a0d9501d0c1f0b5f25ada2b2141a81cc62bee0fedd63438a518c47fc7cb05cc91507aa15ea5c7149df98d8b67d0bbf318ecc6034e9912ffdd98fecf09e062e436903407e4a6e6b1dbac662febea675afdc29b3157a31bd30d094bba688ced00d302ab70fb6692c2ca89b9ed59eaf88f3bb1c360d9dc83f4dff6edb1bb4b039c06f675437a3b5343870e69fc3d572847d349e6c85be18ea40c2a96044ce5e5c88e9c6c5b5d9e2d5138202daa4003a308a7b012b20e694092a46c4171e3a1ca195b886cea2290abfc32dd5f4a688371b6e7e7b5ca75c935fea6cbc3092a902b85329f1defecc025bdd2bef4f9da7307c2e22631bedc6198ee55c95b3e70c294faf4707ab48f2a33bd3fe63ab28493da94936953fb22673678e7d63613ed29efa0262f9b4fe085aac7c94727cbbb16e76a85cf4e28fdc8c04bb287a56c11c77b51029e6220258c3056843d07c42a2228bf0f06571462a467f166ac6aec73cc949e5c1af25904f5313d17e7001c05a5b78b27b4a4fec4d654289b9501a40cfc2b5bbbbb45d20117987445e1e7842a6b76f072738031ce839250338e48f9b9431b52810c569d1582ed441276c8dad252673206b1388e41fcf403b7fb655d3ef0031df3b4f2949c2b8a8e68da55f210203010001a321301f301d0603551d0e041604147cd6d5ae018f5eeaae83df25856c648f75f81f18300d06092a864886f70d01010b050003820201003658c172838212c4d40f54d0292ef1419871cbd8d2c044c73c1192efa6641fcb58a4de89e439f181508b72cbfa2200d76d8b3ff89cddf6e63eed7cc06110cff8a5f57b71a1e8edb31b5b2d9fbbec3b401266e2391eaf4e2cfa9a036aeb6479a62980f88ad5bdf701d30654eb8fd6d3a8b505d191634100db3af87c2706ece534809f2112e4beea79daba64ecba3693e4f01194a938d114647757b06efc72c30076bf742f670d0c2edfd7fdd57a85a810cc87c54be5ff26b05e460adecbf371a7a62328e78fe01ba95a448a9f40032df6a0b30d396088d568294718c6f3bd8694fa87ff23900b3ab2617118550b4f42b40b923214c5c53da1cea342c84489c888f787a99c4029d6ddf1e43cbd8271af9c9e110299eb84cb773e0ce9d74e1ed2929365d9af20804a85de0b6ff382c21c3a33095ab433a7cc6f361a8d5cba73e13b9cb2e671f59861903756b559308d76749d1ff06fc73af5bb6eccbc856b3e1fa478f3d1cd1718c3c06976781b5bd741997386ebf2eaaa227e2b1fafd58d92d8c6ea6e8969edec8ad1338f872da846d971fbe34ba5a0f0b7f248f07185c02195eb7972b51417c2e4fd38538d161efe9c191206338eab820cdcfb6e9e8bc57bc1bb4a1250d26d9daa561e7e78b4d00247c78383cc47b06848554ad978c3078587683c360c044293057b10c4cccfc6ec946563ef2822a47e0a39b4c2b7b3c2fa8030";
    };
    # https://github.com/MatthewCroughan/nixcfg/blob/afab322e6da20cc038d8577dd4a365673702d183/hosts/pyxis/default.nix#L28C7-L33C7
    bitwarden = {
      enable = true;
      url = "https://mobileapp.bitwarden.com/fdroid/repo";
      pubkey = "3082050b308202f3a003020102020450bb84bb300d06092a864886f70d01010b050030363110300e060355040b1307462d44726f6964312230200603550403131962697477617264656e2d5669727475616c2d4d616368696e65301e170d3139303630373031323531305a170d3436313032333031323531305a30363110300e060355040b1307462d44726f6964312230200603550403131962697477617264656e2d5669727475616c2d4d616368696e6530820222300d06092a864886f70d01010105000382020f003082020a02820201008d80ad2dec6a0a227fc4ccf55b20c1c968f375fadf457fd6fd03a5f0eec0743fcb037595fa450603faa94c1c49307786e591c5f4324704ed087491f6329d6921ab82402a7b2b65c14d0443e390f44e0e43af606b6aee8be0ad6fcaa808b2b68cd275844a1496e187a47a9546fed59fea48f1ee4eef6ee2b8df2d0139e6bf0dc58bd1adfcb9b6545dd0fe9ad1c685ed09692aa202745d2cbe3f43b917fdfd8fdf2ac9f01f09dd4c2a5eb3401e1648912b324c3b96dba361fc2ff7308456179ebb7fa4e6700a9af986829bb63c27ddb02c4881ec272446c3bcb286ebfcd50b1ff4e3864bc447d164400982f97c89380094e1ac146ecdf7c36469bfc6a17a177cd6f6bd14695b1858358af6a2b2f32e9ac457539ce2b19a986354483b77acbd0544863becd437ff11bb1bc9d2493b93607049c31b1cc72a81d4bfeac2eb2e49c0ab3be8037ffa2e2df90a3cf8bb2d90e37d20f917d3b56cc308fd0fa49b111daca230d77028b82285085a3c896561c8000f61b3aeb102ecf67c9466a62854bf477f82def889a6fe2d606fc296387bf70c4250188c80a292cd563a5bde28eebd7911822a01ff8667dce1324cab735b60d18f0cce3a114bb72ae0019c0f93adc1a2a8d81be9782c78d724d9917eee6b1c81a751b009f18828cf17593c1a52e27a35b03aece4f03a8dcf280557d9294d6f95df44bdeef8be32321a1397b09fb72848990203010001a321301f301d0603551d0e04160414fd6084b86a35190c8c2e14bde4ece1950c22c603300d06092a864886f70d01010b050003820201005af4595384cb93cc1be2f0afbfea9b5f7d730ed38cb15410dde9eaa1b4399229e9bef1237cb72a30978211651ba5d4c54a42815f3560fe5c6bc681b560e68cbb3783f93ce5c464900748d94a254f971bf216504c83dddf22687e1417f4b0f856054ec179ca6a40d590452eb420742238f0745e0d7aea7e2480f754d1e3d222aca89db4728b339f8f15824f6787c8f65236ec76812a3223426a24e2d86c180cf7b792f9609b1f60a3c52c1eeb976f0195ed279f30a575746e9092dcf9682f3a577b67099e2bc1f2a0315feddd2b575c94bdd60db4213f93ea6b5597c55944d3e86f73cd5c5d166d8eefdc78aea1ae66b8dfb166198fe0cfdfba348b884357f506335328432b1cae8eac5f1bd34442f30d68dbeef6b97ca1b169dc6f3c0a6d57396a09785f4a4de5853ba7a53cf92636d25a3e1d7af183b7b94b93a2aa4821aa5e9b684d1f756fde036cdc666c40fcefe65fe6be29af71440517e1f9fb3039c3394d0c3989d6f75a7675a659c568f8255080d9dcccb42f7243cf2ba1d317d432a584f095bc2ef9e394b1be16055e3a0feee66c4f0dc78854f13fbfb814ba001fa99a454dfa97684c37d71eff1959ce05b455ac3f80b960c824e2b39d985c9cf8b2d25d5c51252c547c29060b9e7e78eb53b0492f0aef0c6839c7850c95bf68038c02c5cacd6f7f43c0db065b0296ea1c313e0cec92a87edcaeb3ae4a2f51ee169d";
    };
  };
  source.dirs."frameworks/base".patches = [
    # https://github.com/LSPosed/DisableFlagSecure/blob/4b3c477a06f05096af6da1a70941c12418e0d567/app/src/main/java/io/github/lsposed/disableflagsecure/DisableFlagSecure.java
    ./frameworks-base-DisableFlagSecure.patch
  ];
}
